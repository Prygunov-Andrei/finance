"""
Константы приложения.

Централизованное хранение магических чисел и строк,
которые используются в разных частях приложения.
"""
from decimal import Decimal


# =============================================================================
# Налоги и ставки
# =============================================================================

# Стандартная ставка НДС в России (%)
DEFAULT_VAT_RATE = Decimal('20')

# Минимальная ставка НДС (для льготных категорий)
MIN_VAT_RATE = Decimal('0')

# Максимальная ставка НДС
MAX_VAT_RATE = Decimal('20')


# =============================================================================
# Нумерация документов
# =============================================================================

# Начальный номер для ТКП (техническое коммерческое предложение)
COMMERCIAL_PROPOSAL_START_NUMBER = 210

# Количество цифр в порядковом номере документа
DEFAULT_NUMBER_DIGITS = 3

# Префиксы для разных типов документов
DOCUMENT_PREFIXES = {
    'estimate': 'СМ',           # Смета
    'mounting_estimate': 'МС',  # Монтажная смета
    'framework_contract': 'РД', # Рамочный договор
    'mounting_proposal': 'МП',  # Монтажное предложение
}


# =============================================================================
# Сроки и периоды
# =============================================================================

# Срок действия коммерческого предложения по умолчанию (дней)
DEFAULT_PROPOSAL_VALIDITY_DAYS = 30

# Минимальный срок действия предложения (дней)
MIN_PROPOSAL_VALIDITY_DAYS = 1

# Максимальный срок действия предложения (дней)
MAX_PROPOSAL_VALIDITY_DAYS = 365


# =============================================================================
# Разряды работников
# =============================================================================

# Количество разрядов работников
WORKER_GRADES_COUNT = 5

# Минимальный разряд
MIN_WORKER_GRADE = 1

# Максимальный разряд
MAX_WORKER_GRADE = 5

# Ставки по умолчанию для разрядов (руб/час)
DEFAULT_GRADE_RATES = {
    1: Decimal('500'),
    2: Decimal('600'),
    3: Decimal('700'),
    4: Decimal('800'),
    5: Decimal('900'),
}


# =============================================================================
# Пагинация
# =============================================================================

# Размер страницы по умолчанию
DEFAULT_PAGE_SIZE = 50

# Максимальный размер страницы
MAX_PAGE_SIZE = 200


# =============================================================================
# Файлы
# =============================================================================

# Максимальный размер загружаемого файла (байт)
MAX_UPLOAD_SIZE = 50 * 1024 * 1024  # 50 MB

# Допустимые расширения для файлов смет
ESTIMATE_FILE_EXTENSIONS = ['.xlsx', '.xls']

# Допустимые расширения для файлов проектов
PROJECT_FILE_EXTENSIONS = ['.zip', '.rar', '.7z']

# Допустимые расширения для сканов документов
SCAN_FILE_EXTENSIONS = ['.pdf', '.jpg', '.jpeg', '.png']


# =============================================================================
# Валюты
# =============================================================================

# Поддерживаемые валюты для курсов
SUPPORTED_CURRENCIES = ['USD', 'EUR', 'CNY']

# Код валюты по умолчанию
DEFAULT_CURRENCY = 'RUB'


# =============================================================================
# Точность вычислений
# =============================================================================

# Количество знаков после запятой для денежных сумм
MONEY_DECIMAL_PLACES = 2

# Количество знаков после запятой для процентов
PERCENT_DECIMAL_PLACES = 2

# Квантизатор для денежных сумм
MONEY_QUANTIZER = Decimal('0.01')

# Квантизатор для процентов
PERCENT_QUANTIZER = Decimal('0.01')

# –ó–∞–¥–∞–Ω–∏—è –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –§—Ä–æ–Ω—Ç–µ–Ω–¥–∞: –ü–ª–∞—Ç–µ–∂–∏

**–°—Ç–µ–∫:** Next.js (App Router), TypeScript, TailwindCSS, Shadcn UI, Axios, React Query.

**–ë–∞–∑–æ–≤—ã–π URL API:** `https://finance.ngrok.app/api/v1` (–∏–ª–∏ `NEXT_PUBLIC_API_URL`)

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:**
- `FRONTEND_TASKS_01_FOUNDATION.md` ‚Äî –ë–∞–∑–æ–≤—ã–µ —ç—Ç–∞–ø—ã (–§—É–Ω–¥–∞–º–µ–Ω—Ç, –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏)
- `FRONTEND_TASKS_06_CONTRACTS.md` ‚Äî –î–æ–≥–æ–≤–æ—Ä—ã (—Å–≤—è–∑–∞–Ω—ã —Å –ø–ª–∞—Ç–µ–∂–∞–º–∏)
- `FRONTEND_TASKS_INDEX.md` ‚Äî –ò–Ω–¥–µ–∫—Å –≤—Å–µ—Ö –∑–∞–¥–∞–Ω–∏–π
- `PROJECT.md` ‚Äî –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–ª–∞—Ç–µ–∂–µ–π

### –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–ï–¥–∏–Ω–∞—è —Ñ–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞—Ç–µ–∂–µ–π:**
- –í—Å–µ –ø–ª–∞—Ç–µ–∂–∏ (income –∏ expense) —Å–æ–∑–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –æ–¥–Ω—É —Ñ–æ—Ä–º—É –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/payments`
- –ö –∫–∞–∂–¥–æ–º—É –ø–ª–∞—Ç–µ–∂—É **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç—Å—è PDF-–¥–æ–∫—É–º–µ–Ω—Ç (—Å—á—ë—Ç –∏–ª–∏ –∞–∫—Ç)
- –õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∏–ø–∞ –ø–ª–∞—Ç–µ–∂–∞

**–õ–æ–≥–∏–∫–∞ –ø–æ —Ç–∏–ø–∞–º:**
| –¢–∏–ø | –°–æ–∑–¥–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –†–µ–µ—Å—Ç—Ä |
|-----|----------|--------|--------|
| `income` (–ø—Ä–∏—Ö–æ–¥) | –§–æ—Ä–º–∞ `/payments` | –°—Ä–∞–∑—É `paid` | –ù–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è |
| `expense` (—Ä–∞—Å—Ö–æ–¥) | –§–æ—Ä–º–∞ `/payments` | –°–Ω–∞—á–∞–ª–∞ `pending` | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞—è–≤–∫–∞ |

**Workflow –¥–ª—è —Ä–∞—Å—Ö–æ–¥–æ–≤:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞—ë—Ç –ø–ª–∞—Ç—ë–∂ (expense) ‚Üí —Å—Ç–∞—Ç—É—Å `pending`
2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞—è–≤–∫–∞ –≤ –†–µ–µ—Å—Ç—Ä–µ ‚Üí —Å—Ç–∞—Ç—É—Å `planned`
3. –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –¥–∏—Ä–µ–∫—Ç–æ—Ä —Å–æ–≥–ª–∞—Å–æ–≤—ã–≤–∞–µ—Ç –≤ –†–µ–µ—Å—Ç—Ä–µ ‚Üí —Å—Ç–∞—Ç—É—Å `approved`
4. –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã ‚Üí —Å—Ç–∞—Ç—É—Å `paid` (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –¥–ª—è –ø–ª–∞—Ç–µ–∂–∞ –∏ –∑–∞—è–≤–∫–∏)

---

## –≠—Ç–∞–ø 30: –°–ø–∏—Å–æ–∫ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π

### –°—Ç—Ä–∞–Ω–∏—Ü–∞ "–ü–ª–∞—Ç–µ–∂–∏" (`/payments`)

**API:** 
- `GET /payments/` ‚Äî —Å–ø–∏—Å–æ–∫ –ø–ª–∞—Ç–µ–∂–µ–π
- `POST /payments/` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞ (–ª—é–±–æ–≥–æ —Ç–∏–ø–∞)

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–∞–Ω–Ω—ã—Ö:**
```typescript
interface Payment {
  id: number;
  account: number; // ID —Å—á—ë—Ç–∞
  account_name?: string; // Read-only
  contract?: number; // ID –¥–æ–≥–æ–≤–æ—Ä–∞
  contract_name?: string; // Read-only
  contract_number?: string; // Read-only
  category: number; // ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  category_name?: string; // Read-only
  category_full_path?: string; // Read-only
  legal_entity: number; // ID —é—Ä–ª–∏—Ü–∞
  legal_entity_name?: string; // Read-only
  payment_type: 'income' | 'expense';
  payment_date: string; // YYYY-MM-DD
  amount: string; // Decimal string
  amount_gross: string; // Decimal string: —Å—É–º–º–∞ —Å –ù–î–°
  amount_net: string; // Decimal string: —Å—É–º–º–∞ –±–µ–∑ –ù–î–°
  vat_amount: string; // Decimal string: —Å—É–º–º–∞ –ù–î–°
  status: 'pending' | 'paid' | 'cancelled';
  description?: string;
  scan_file: string; // URL —Ñ–∞–π–ª–∞ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô!)
  payment_registry?: number; // ID –∑–∞—è–≤–∫–∏ –≤ —Ä–µ–µ—Å—Ç—Ä–µ (—Ç–æ–ª—å–∫–æ –¥–ª—è expense)
  is_internal_transfer: boolean;
  internal_transfer_group: string | null;
  created_at: string;
  updated_at: string;
}

// Payload –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è
interface PaymentCreatePayload {
  payment_type: 'income' | 'expense';
  account_id: number;
  category_id: number;
  payment_date: string;
  amount_gross: string;
  amount_net?: string;
  vat_amount?: string;
  contract_id?: number;
  legal_entity_id?: number;
  description?: string;
  scan_file: File; // –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô PDF
  is_internal_transfer?: boolean;
  internal_transfer_group?: string;
}
```

**UI –¢–∞–±–ª–∏—Ü—ã:**
- –ó–∞–≥–æ–ª–æ–≤–∫–∏: –î–∞—Ç–∞, –¢–∏–ø, –°—á—ë—Ç, –î–æ–≥–æ–≤–æ—Ä, –ö–∞—Ç–µ–≥–æ—Ä–∏—è, –°—É–º–º–∞ (Gross), –ù–î–°, –°—Ç–∞—Ç—É—Å, –î–æ–∫—É–º–µ–Ω—Ç
- –ö–æ–ª–æ–Ω–∫–∞ "–î–æ–∫—É–º–µ–Ω—Ç": –∏–∫–æ–Ω–∫–∞ PDF —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Å–∫–∞—á–∞—Ç—å/–ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å
- –¢–∏–ø—ã (Badge): 
  - `income` = "–ü—Ä–∏—Ö–æ–¥" (Green)
  - `expense` = "–†–∞—Å—Ö–æ–¥" (Red)
- –°—Ç–∞—Ç—É—Å—ã (Badge): 
  - `pending` = "–û–∂–∏–¥–∞–µ—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è" (Yellow) ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è expense
  - `paid` = "–ü—Ä–æ–≤–µ–¥—ë–Ω" (Green)
  - `cancelled` = "–û—Ç–º–µ–Ω—ë–Ω" (Red)
- –î–ª—è expense —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `pending`: –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Å—ã–ª–∫—É "–ü–µ—Ä–µ–π—Ç–∏ –≤ –†–µ–µ—Å—Ç—Ä"

**–§–∏–ª—å—Ç—Ä—ã:**
- –ü–æ —Ç–∏–ø—É: `?payment_type=income` –∏–ª–∏ `?payment_type=expense`
- –ü–æ –¥–æ–≥–æ–≤–æ—Ä—É: `?contract={id}`
- –ü–æ —Å—á—ë—Ç—É: `?account={id}`
- –ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: `?category={id}`
- –ü–æ —Å—Ç–∞—Ç—É—Å—É: `?status=paid`
- –ü–æ –¥–∞—Ç–µ: `?payment_date_from={date}&payment_date_to={date}`
- –ü–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –ø–µ—Ä–µ–≤–æ–¥–∞–º: `?is_internal_transfer=true`
- –ü–æ–∏—Å–∫: `?search=...` (–ø–æ –æ–ø–∏—Å–∞–Ω–∏—é, –Ω–æ–º–µ—Ä—É –¥–æ–≥–æ–≤–æ—Ä–∞)

**–ö–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å –ø–ª–∞—Ç—ë–∂"**: –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –µ–¥–∏–Ω—É—é —Ñ–æ—Ä–º—É —Å–æ–∑–¥–∞–Ω–∏—è.

### –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞—Ç–µ–∂–∞ (–ï–¥–∏–Ω–∞—è)

**–ü–æ–ª—è:**
- –¢–∏–ø –ø–ª–∞—Ç–µ–∂–∞* (Select: –ü—Ä–∏—Ö–æ–¥ / –†–∞—Å—Ö–æ–¥) ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
- –°—á—ë—Ç* (Select –∏–∑ GET /accounts/) ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
- –î–æ–≥–æ–≤–æ—Ä (Select, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Å–º. –∫–∞—Ç–µ–≥–æ—Ä–∏—é)
- –ö–∞—Ç–µ–≥–æ—Ä–∏—è* (Select –∏–∑ GET /expense-categories/) ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
- –î–∞—Ç–∞ –ø–ª–∞—Ç–µ–∂–∞* (Date picker) ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
- –°—É–º–º–∞ —Å –ù–î–°* (Number input, Decimal) ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
- –°—É–º–º–∞ –±–µ–∑ –ù–î–° (Number input, Decimal, —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- –°—É–º–º–∞ –ù–î–° (Number input, Decimal, —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- –û–ø–∏—Å–∞–Ω–∏–µ (Textarea)
- **–î–æ–∫—É–º–µ–Ω—Ç*** (File input, PDF) ‚Äî **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤**
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–µ—Ä–µ–≤–æ–¥ (Checkbox)
  - –ü–æ–ª–µ "–ì—Ä—É–ø–ø–∞ –ø–µ—Ä–µ–≤–æ–¥–∞" (Text input, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ)

**–õ–æ–≥–∏–∫–∞ –∞–≤—Ç–æ—Ä–∞—Å—á—ë—Ç–∞ –ù–î–°:**
- –ü—Ä–∏ –≤–≤–æ–¥–µ —Å—É–º–º—ã —Å –ù–î–° –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å:
  - –°—É–º–º–∞ –±–µ–∑ –ù–î–° = –°—É–º–º–∞ —Å –ù–î–° / 1.20 (—Å—Ç–∞–≤–∫–∞ 20%)
  - –°—É–º–º–∞ –ù–î–° = –°—É–º–º–∞ —Å –ù–î–° - –°—É–º–º–∞ –±–µ–∑ –ù–î–°
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—Ä—É—á–Ω—É—é –∏–∑–º–µ–Ω–∏—Ç—å —ç—Ç–∏ —Ü–∏—Ñ—Ä—ã –ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∞—Å—á—ë—Ç–∞

**–í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ:**
- –§–∞–π–ª –¥–æ–∫—É–º–µ–Ω—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
- –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞: PDF
- –ï—Å–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è `requires_contract === true` ‚Äî –¥–æ–≥–æ–≤–æ—Ä –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è:**
- **Income**: —Å–æ–æ–±—â–µ–Ω–∏–µ "–ü–ª–∞—Ç—ë–∂ —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ–≤–µ–¥—ë–Ω", —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ —Å–ø–∏—Å–æ–∫
- **Expense**: —Å–æ–æ–±—â–µ–Ω–∏–µ "–ü–ª–∞—Ç—ë–∂ —Å–æ–∑–¥–∞–Ω –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ", –ø–æ–∫–∞–∑–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –†–µ–µ—Å—Ç—Ä

### –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–ª–∞—Ç–µ–∂–∞ (`/payments/{id}`)

**–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:**
- –í—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–ª–∞—Ç–µ–∂–µ
- –ü—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç (–ø—Ä–æ—Å–º–æ—Ç—Ä PDF)
- –°—Ç–∞—Ç—É—Å —Å –≤–∏–∑—É–∞–ª—å–Ω—ã–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º

**–î–ª—è expense –ø–ª–∞—Ç–µ–∂–µ–π:**
- –ï—Å–ª–∏ `status === 'pending'`:
  - –ü–æ–∫–∞–∑–∞—Ç—å –±–ª–æ–∫ "–û–∂–∏–¥–∞–µ—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è"
  - –°—Å—ã–ª–∫–∞ "–ü–µ—Ä–µ–π—Ç–∏ –∫ –∑–∞—è–≤–∫–µ –≤ –†–µ–µ—Å—Ç—Ä–µ" (–ø–æ `payment_registry` ID)
- –ï—Å–ª–∏ `status === 'paid'`:
  - –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–∏ (–¥–∞—Ç–∞, –∫–µ–º)

**–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º –ø–µ—Ä–µ–≤–æ–¥–µ:**
- –ï—Å–ª–∏ `is_internal_transfer === true`:
  - Badge "–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–µ—Ä–µ–≤–æ–¥" (—Å–∏–Ω–∏–π)
  - –ü–æ–ª–µ "–ì—Ä—É–ø–ø–∞ –ø–µ—Ä–µ–≤–æ–¥–∞" (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–∞)
  - –°—Å—ã–ª–∫–∞ "–ü–æ–∫–∞–∑–∞—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã"

### ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≠—Ç–∞–ø–∞ 30
- [ ] –°–ø–∏—Å–æ–∫ –ø–ª–∞—Ç–µ–∂–µ–π –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –§–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –µ–¥–∏–Ω–∞—è –¥–ª—è income/expense
- [ ] –î–æ–∫—É–º–µ–Ω—Ç PDF –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤
- [ ] –ê–≤—Ç–æ—Ä–∞—Å—á—ë—Ç –ù–î–° —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Income –ø–ª–∞—Ç—ë–∂ —Å—Ä–∞–∑—É —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `paid`
- [ ] Expense –ø–ª–∞—Ç—ë–∂ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `pending`
- [ ] –î–ª—è expense –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ –†–µ–µ—Å—Ç—Ä–µ
- [ ] –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç
- [ ] –°—Å—ã–ª–∫–∞ –Ω–∞ –†–µ–µ—Å—Ç—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è expense

---

## –≠—Ç–∞–ø 31: –†–µ–µ—Å—Ç—Ä –ø–ª–∞—Ç–µ–∂–µ–π (–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–æ–≤)

### –°—Ç—Ä–∞–Ω–∏—Ü–∞ "–†–µ–µ—Å—Ç—Ä –ø–ª–∞—Ç–µ–∂–µ–π" (`/payments/registry`)

**API:**
- List: `GET /payment-registry/`
- Approve: `POST /payment-registry/{id}/approve/`
- Pay: `POST /payment-registry/{id}/pay/`
- Cancel: `POST /payment-registry/{id}/cancel/`

**–í–ê–ñ–ù–û:** –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫ —á–µ—Ä–µ–∑ API –∑–∞–ø—Ä–µ—â–µ–Ω–æ (`POST` –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è). –ó–∞—è–≤–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ä–∞—Å—Ö–æ–¥–Ω–æ–≥–æ –ø–ª–∞—Ç–µ–∂–∞.

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–∞–Ω–Ω—ã—Ö:**
```typescript
interface PaymentRegistryItem {
  id: number;
  
  // –°—Å—ã–ª–∫–∏ (Read-only)
  contract_number?: string;
  contract_name?: string;
  category_name?: string;
  account_name?: string;
  act_number?: string;
  
  planned_date: string;
  amount: string;
  status: 'planned' | 'approved' | 'paid' | 'cancelled';
  status_display: string;
  
  initiator?: string;
  approved_by_name?: string;
  approved_at?: string;
  
  comment?: string;
  invoice_file?: string; // URL —Ñ–∞–π–ª–∞
  
  payment_id?: number; // ID —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ –ø–ª–∞—Ç–µ–∂–∞
  
  created_at: string;
  updated_at: string;
}
```

**UI –¢–∞–±–ª–∏—Ü—ã:**
- –ó–∞–≥–æ–ª–æ–≤–∫–∏: –î–∞—Ç–∞, –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç, –ö–∞—Ç–µ–≥–æ—Ä–∏—è, –°—É–º–º–∞, –°—Ç–∞—Ç—É—Å, –ò–Ω–∏—Ü–∏–∞—Ç–æ—Ä, –î–µ–π—Å—Ç–≤–∏—è
- –°—Ç–∞—Ç—É—Å—ã (Badge): 
  - `planned` = "–û–∂–∏–¥–∞–µ—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è" (Yellow)
  - `approved` = "–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ" (Blue)
  - `paid` = "–û–ø–ª–∞—á–µ–Ω–æ" (Green)
  - `cancelled` = "–û—Ç–º–µ–Ω–µ–Ω–æ" (Red)

**–ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç–∞—Ç—É—Å–∞):**
| –°—Ç–∞—Ç—É—Å | –î–µ–π—Å—Ç–≤–∏—è |
|--------|----------|
| `planned` | "–°–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å", "–û—Ç–º–µ–Ω–∏—Ç—å", "–û—Ç–∫—Ä—ã—Ç—å –ø–ª–∞—Ç—ë–∂" |
| `approved` | "–û–ø–ª–∞—Ç–∏—Ç—å", "–û—Ç–º–µ–Ω–∏—Ç—å", "–û—Ç–∫—Ä—ã—Ç—å –ø–ª–∞—Ç—ë–∂" |
| `paid` | "–û—Ç–∫—Ä—ã—Ç—å –ø–ª–∞—Ç—ë–∂" (—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä) |
| `cancelled` | "–û—Ç–∫—Ä—ã—Ç—å –ø–ª–∞—Ç—ë–∂" (—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä) |

**–§–∏–ª—å—Ç—Ä—ã:**
- –ü–æ —Å—Ç–∞—Ç—É—Å—É: `?status=planned` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ–∂–∏–¥–∞—é—â–∏–µ)
- –ü–æ –¥–æ–≥–æ–≤–æ—Ä—É: `?contract={id}`
- –ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: `?category={id}`
- –ü–æ —Å—á—ë—Ç—É: `?account={id}`
- –ü–æ –¥–∞—Ç–µ: –ø–ª–∞–Ω–æ–≤–∞—è –¥–∞—Ç–∞

### –î–µ–π—Å—Ç–≤–∏–µ "–°–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å"

**API:** `POST /payment-registry/{id}/approve/`

**UI:**
- –ö–Ω–æ–ø–∫–∞ –≤ —Å—Ç—Ä–æ–∫–µ —Ç–∞–±–ª–∏—Ü—ã –∏–ª–∏ –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ: "–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å –ø–ª–∞—Ç—ë–∂ –Ω–∞ —Å—É–º–º—É {amount}?"
- –£—Å–ø–µ—Ö: —Å—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `approved`

### –î–µ–π—Å—Ç–≤–∏–µ "–û–ø–ª–∞—Ç–∏—Ç—å"

**API:** `POST /payment-registry/{id}/pay/`

**UI:**
- –ö–Ω–æ–ø–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞ `approved`
- Dialog –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è: "–ü—Ä–æ–≤–µ—Å—Ç–∏ –æ–ø–ª–∞—Ç—É –Ω–∞ —Å—É–º–º—É {amount}?"
- –£—Å–ø–µ—Ö: 
  - –°—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏ ‚Üí `paid`
  - –°—Ç–∞—Ç—É—Å –ø–ª–∞—Ç–µ–∂–∞ ‚Üí `paid` (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è)
  - –°–æ–æ–±—â–µ–Ω–∏–µ: "–ü–ª–∞—Ç—ë–∂ –ø—Ä–æ–≤–µ–¥—ë–Ω"

### –î–µ–π—Å—Ç–≤–∏–µ "–û—Ç–º–µ–Ω–∏—Ç—å"

**API:** `POST /payment-registry/{id}/cancel/`

**UI:**
- –ö–Ω–æ–ø–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤ `planned` –∏ `approved`
- –ù–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å —É–∂–µ –æ–ø–ª–∞—á–µ–Ω–Ω—É—é –∑–∞—è–≤–∫—É
- Dialog –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å –ø–æ–ª–µ–º –¥–ª—è –ø—Ä–∏—á–∏–Ω—ã
- –£—Å–ø–µ—Ö:
  - –°—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏ ‚Üí `cancelled`
  - –°—Ç–∞—Ç—É—Å –ø–ª–∞—Ç–µ–∂–∞ ‚Üí `cancelled`

### –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞—è–≤–∫–∏ (`/payments/registry/{id}`)

**–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:**
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞—è–≤–∫–∏
- –°—Å—ã–ª–∫–∞ –Ω–∞ —Å–≤—è–∑–∞–Ω–Ω—ã–π –ø–ª–∞—Ç—ë–∂ (—á–µ—Ä–µ–∑ `payment_id`)
- –î–æ–∫—É–º–µ–Ω—Ç (invoice_file) ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä PDF
- –ò—Å—Ç–æ—Ä–∏—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è (–∫–µ–º, –∫–æ–≥–¥–∞)

### ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≠—Ç–∞–ø–∞ 31
- [ ] –°–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫ –≤—Ä—É—á–Ω—É—é –ù–ï –¥–æ—Å—Ç—É–ø–Ω–æ (–Ω–µ—Ç –∫–Ω–æ–ø–∫–∏ "–°–æ–∑–¥–∞—Ç—å")
- [ ] –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ (Approve) —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –û–ø–ª–∞—Ç–∞ (Pay) —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç—É—Å –ø–ª–∞—Ç–µ–∂–∞
- [ ] –û—Ç–º–µ–Ω–∞ (Cancel) —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –°—Å—ã–ª–∫–∞ –Ω–∞ —Å–≤—è–∑–∞–Ω–Ω—ã–π –ø–ª–∞—Ç—ë–∂ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –§–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –î–æ–∫—É–º–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

---

## –ù–∞–≤–∏–≥–∞—Ü–∏—è

–î–æ–±–∞–≤–∏—Ç—å –≤ Sidebar:
- üí∏ –ü–ª–∞—Ç–µ–∂–∏ (`/payments`) ‚Äî –ø–æ–¥–º–µ–Ω—é:
  - –í—Å–µ –ø–ª–∞—Ç–µ–∂–∏
  - –†–µ–µ—Å—Ç—Ä —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–π

---

## –ß–µ–∫-–ª–∏—Å—Ç —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

- [ ] –ï–¥–∏–Ω–∞—è —Ñ–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞—Ç–µ–∂–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] PDF –¥–æ–∫—É–º–µ–Ω—Ç –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤
- [ ] Income –ø–ª–∞—Ç–µ–∂–∏ –ø—Ä–æ–≤–æ–¥—è—Ç—Å—è —Å—Ä–∞–∑—É
- [ ] Expense –ø–ª–∞—Ç–µ–∂–∏ —Å–æ–∑–¥–∞—é—Ç –∑–∞—è–≤–∫—É –≤ –†–µ–µ—Å—Ç—Ä–µ
- [ ] –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –≤ –†–µ–µ—Å—Ç—Ä–µ –ø—Ä–æ–≤–æ–¥–∏—Ç –ø–ª–∞—Ç—ë–∂
- [ ] –°—Ç–∞—Ç—É—Å—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –º–µ–∂–¥—É Payment –∏ PaymentRegistry
- [ ] –ê–≤—Ç–æ—Ä–∞—Å—á—ë—Ç –ù–î–° —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –§–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ù–∞–≤–∏–≥–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

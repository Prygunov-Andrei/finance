# –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è: –ü–∞—Ä—Å–∏–Ω–≥ —Å—á–µ—Ç–æ–≤ ‚Äî Frontend

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 04.01.2026  
**–ë–∞–∑–æ–≤—ã–π –¥–æ–∫—É–º–µ–Ω—Ç:** `PLANNING_INVOICE_PARSING.md`  
**Backend –¥–æ–∫—É–º–µ–Ω—Ç:** `IMPLEMENTATION_INVOICE_PARSING_BACKEND.md`

---

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π](#1-–æ–±–∑–æ—Ä-–∏–∑–º–µ–Ω–µ–Ω–∏–π)
2. [–≠—Ç–∞–ø 1: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã –ø–ª–∞—Ç–µ–∂–∞](#—ç—Ç–∞–ø-1-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ-—Ñ–æ—Ä–º—ã-–ø–ª–∞—Ç–µ–∂–∞)
3. [–≠—Ç–∞–ø 2: –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤](#—ç—Ç–∞–ø-2-–∫–∞—Ç–∞–ª–æ–≥-—Ç–æ–≤–∞—Ä–æ–≤)
4. [–≠—Ç–∞–ø 2.5: –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏](#—ç—Ç–∞–ø-25-—Ä—É—á–Ω–æ–µ-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Ç–æ–≤–∞—Ä–∞–º–∏)
5. [–≠—Ç–∞–ø 3: –ú–æ–¥–µ—Ä–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤](#—ç—Ç–∞–ø-3-–º–æ–¥–µ—Ä–∞—Ü–∏—è-—Ç–æ–≤–∞—Ä–æ–≤)
6. [–≠—Ç–∞–ø 4: –ò—Å—Ç–æ—Ä–∏—è —Ü–µ–Ω](#—ç—Ç–∞–ø-4-–∏—Å—Ç–æ—Ä–∏—è-—Ü–µ–Ω)
7. [–≠—Ç–∞–ø 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ LLM](#—ç—Ç–∞–ø-5-–Ω–∞—Å—Ç—Ä–æ–π–∫–∏-llm)
7. [–¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö](#6-—Ç–∏–ø—ã-–¥–∞–Ω–Ω—ã—Ö)
8. [–ß–µ–∫-–ª–∏—Å—Ç](#7-—á–µ–∫-–ª–∏—Å—Ç)

---

## 1. –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ù–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

| –°—Ç—Ä–∞–Ω–∏—Ü–∞ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|------|----------|
| –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤ | `/catalog/categories` | –ò–µ—Ä–∞—Ä—Ö–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π |
| –¢–æ–≤–∞—Ä—ã/–£—Å–ª—É–≥–∏ | `/catalog/products` | –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Ç–æ–≤–∞—Ä–æ–≤ |
| –ú–æ–¥–µ—Ä–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤ | `/catalog/moderation` | –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–≤—ã—Ö, –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ |
| –ù–∞—Å—Ç—Ä–æ–π–∫–∏ LLM | `/settings/llm` | –í—ã–±–æ—Ä –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ |

### –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

| –°—Ç—Ä–∞–Ω–∏—Ü–∞ | –ò–∑–º–µ–Ω–µ–Ω–∏—è |
|----------|-----------|
| –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞ | –ó–∞–≥—Ä—É–∑–∫–∞ PDF ‚Üí –ü–∞—Ä—Å–∏–Ω–≥ ‚Üí –ü—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ |
| –î–µ—Ç–∞–ª–∏ –ø–ª–∞—Ç–µ–∂–∞ | –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π (—Ç–æ–≤–∞—Ä–æ–≤) |

---

## –≠—Ç–∞–ø 1: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã –ø–ª–∞—Ç–µ–∂–∞

### 1.1. –ù–æ–≤—ã–π —Ñ–ª–æ—É —Å–æ–∑–¥–∞–Ω–∏—è —Ä–∞—Å—Ö–æ–¥–Ω–æ–≥–æ –ø–ª–∞—Ç–µ–∂–∞

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ç–∏–ø "–†–∞—Å—Ö–æ–¥"
   ‚Üì
2. –ó–∞–≥—Ä—É–∂–∞–µ—Ç PDF-—Ñ–∞–π–ª (—Ç–æ–ª—å–∫–æ PDF!)
   ‚Üì
3. –°–∏—Å—Ç–µ–º–∞ –ø–∞—Ä—Å–∏—Ç –¥–æ–∫—É–º–µ–Ω—Ç —á–µ—Ä–µ–∑ LLM
   ‚Üì
4. –§–æ—Ä–º–∞ –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–∞–Ω–Ω—ã–º–∏:
   - –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç (—Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏)
   - –ù–∞—à–∞ –∫–æ–º–ø–∞–Ω–∏—è
   - –°—É–º–º—ã
   - –ü–æ–∑–∏—Ü–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤
   ‚Üì
5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç/–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç
   ‚Üì
6. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–ª–∞—Ç—ë–∂
```

### 1.2. API –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞

**Endpoint:** `POST /api/v1/llm/parse-invoice/`

**Request:**
```typescript
// FormData
{
  file: File  // PDF-—Ñ–∞–π–ª
}
```

**Response:**
```typescript
interface ParseInvoiceResponse {
  success: boolean;
  from_cache: boolean;
  document_id: number | null;
  data: ParsedInvoiceData | null;
  matches: {
    vendor: VendorMatch;
    buyer: BuyerMatch;
    products: ProductMatch[];
  };
  warnings: string[];
  error: string | null;
}

interface ParsedInvoiceData {
  vendor: {
    name: string;
    inn: string;
    kpp: string | null;
  };
  buyer: {
    name: string;
    inn: string;
  };
  invoice: {
    number: string;
    date: string;  // YYYY-MM-DD
  };
  totals: {
    amount_gross: string;  // Decimal
    vat_amount: string;    // Decimal
  };
  items: Array<{
    name: string;
    quantity: string;
    unit: string;
    price_per_unit: string;
  }>;
  confidence: number;  // 0.0-1.0
}

interface VendorMatch {
  match_type: 'exact' | 'similar' | 'not_found';
  counterparty_id: number | null;
  suggestions: Array<{
    id: number;
    name: string;
    short_name: string | null;
    inn: string;
    score: number;
  }>;
}

interface BuyerMatch {
  match_type: 'exact' | 'not_found';
  legal_entity_id: number | null;
  error: string | null;
}

interface ProductMatch {
  raw_name: string;
  similar_products: Array<{
    product_id: number;
    product_name: string;
    score: number;
  }>;
}
```

### 1.3. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –ø–∞—Ä—Å–∏–Ω–≥–∞

**–§–∞–π–ª:** `components/payments/InvoiceUploader.tsx`

```tsx
interface InvoiceUploaderProps {
  onParsed: (data: ParseInvoiceResponse) => void;
  onError: (error: string) => void;
  disabled?: boolean;
}
```

**UI:**
- Drag & drop –∑–æ–Ω–∞ –¥–ª—è PDF
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –≤–æ –≤—Ä–µ–º—è –ø–∞—Ä—Å–∏–Ω–≥–∞
- –ü–æ–∫–∞–∑ warnings –µ—Å–ª–∏ –µ—Å—Ç—å
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (rate limit, parse error)

**–°–æ—Å—Ç–æ—è–Ω–∏—è:**
1. **Idle** ‚Äî –æ–∂–∏–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
2. **Uploading** ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
3. **Parsing** ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ —á–µ—Ä–µ–∑ LLM (–ø–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏–Ω–Ω–µ—Ä + —Ç–µ–∫—Å—Ç "–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Å—á—ë—Ç...")
4. **Success** ‚Äî –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã
5. **Error** ‚Äî –æ—à–∏–±–∫–∞ (–ø–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ)

### 1.4. –ü—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã

**–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞:**

1. **–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç:**
   - –ï—Å–ª–∏ `match_type === 'exact'` ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±—Ä–∞—Ç—å
   - –ï—Å–ª–∏ `match_type === 'similar'` ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å Select —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏ + –æ–ø—Ü–∏—è "–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ"
   - –ï—Å–ª–∏ `match_type === 'not_found'` ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É "–°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞" —Å –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

2. **–ù–∞—à–∞ –∫–æ–º–ø–∞–Ω–∏—è:**
   - –ï—Å–ª–∏ `match_type === 'exact'` ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±—Ä–∞—Ç—å
   - –ï—Å–ª–∏ `match_type === 'not_found'` ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É (—é—Ä–ª–∏—Ü–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ —Å–∏—Å—Ç–µ–º–µ)

3. **–°—É–º–º—ã:**
   - `amount_gross` ‚Üí –ø–æ–ª–µ "–°—É–º–º–∞ —Å –ù–î–°"
   - `vat_amount` ‚Üí –ø–æ–ª–µ "–°—É–º–º–∞ –ù–î–°"
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å `amount_net`

4. **–î–∞—Ç–∞ –∏ –Ω–æ–º–µ—Ä —Å—á—ë—Ç–∞:**
   - `invoice.date` ‚Üí –ø–æ–ª–µ "–î–∞—Ç–∞ –ø–ª–∞—Ç–µ–∂–∞"
   - `invoice.number` ‚Üí –ø–æ–ª–µ "–û–ø–∏—Å–∞–Ω–∏–µ" (–∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ)

5. **–ü–æ–∑–∏—Ü–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤:**
   - –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É —Å –ø–æ–∑–∏—Ü–∏—è–º–∏
   - –î–ª—è –∫–∞–∂–¥–æ–π –ø–æ–∑–∏—Ü–∏–∏ –ø–æ–∫–∞–∑–∞—Ç—å: –Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–æ–ª-–≤–æ, –µ–¥.–∏–∑–º., —Ü–µ–Ω–∞, —Å—É–º–º–∞
   - –ü–æ–∑–∏—Ü–∏–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ –±–µ–∫–µ–Ω–¥ –≤–º–µ—Å—Ç–µ —Å –ø–ª–∞—Ç–µ–∂–æ–º –≤ –ø–æ–ª–µ `items`
   - –ü–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–ª–∞—Ç—ë–∂ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–µ `items: PaymentItem[]` —Å –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–º–∏ —Ç–æ–≤–∞—Ä–∞–º–∏

### 1.5. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã–±–æ—Ä–∞ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞ —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏

**–§–∞–π–ª:** `components/payments/CounterpartySelector.tsx`

```tsx
interface CounterpartySelectorProps {
  value: number | null;
  onChange: (id: number | null) => void;
  suggestions?: VendorMatch['suggestions'];
  parsedVendor?: ParsedInvoiceData['vendor'];
  onCreateNew?: (data: { name: string; inn: string; kpp?: string }) => void;
}
```

**UI:**
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π Select —Å –ø–æ–∏—Å–∫–æ–º
- –ï—Å–ª–∏ –µ—Å—Ç—å `suggestions` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –∏—Ö –ø–µ—Ä–≤—ã–º–∏ —Å badge "–ü–æ—Ö–æ–∂–µ"
- –û–ø—Ü–∏—è "‚ûï –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞" –≤–Ω–∏–∑—É —Å–ø–∏—Å–∫–∞
- –ü—Ä–∏ –≤—ã–±–æ—Ä–µ "–°–æ–∑–¥–∞—Ç—å" ‚Äî –æ—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

### 1.6. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ç–∞–±–ª–∏—Ü—ã –ø–æ–∑–∏—Ü–∏–π

**–§–∞–π–ª:** `components/payments/InvoiceItemsTable.tsx`

```tsx
interface InvoiceItem {
  raw_name: string;
  quantity: string;
  unit: string;
  price_per_unit: string;
  amount?: string;  // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è
}

interface InvoiceItemsTableProps {
  items: InvoiceItem[];
  readonly?: boolean;
}
```

**UI:**
- –¢–∞–±–ª–∏—Ü–∞: ‚Ññ, –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ, –ö–æ–ª-–≤–æ, –ï–¥.–∏–∑–º., –¶–µ–Ω–∞, –°—É–º–º–∞
- –ò—Ç–æ–≥–æ –≤–Ω–∏–∑—É —Ç–∞–±–ª–∏—Ü—ã
- –í —Ä–µ–∂–∏–º–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ ‚Äî —Ç–æ–ª—å–∫–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- –í —Ä–µ–∂–∏–º–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 1.7. –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–∞

**–î–ª—è —Ä–∞—Å—Ö–æ–¥–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π (expense):**
- –†–∞–∑—Ä–µ—à—ë–Ω —Ç–æ–ª—å–∫–æ PDF
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ—à–∏–±–∫—É –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥—Ä—É–≥–æ–π —Ñ–æ—Ä–º–∞—Ç:
  > "–î–ª—è —Ä–∞—Å—Ö–æ–¥–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ñ–æ—Ä–º–∞—Ç PDF"

**–î–ª—è –¥–æ—Ö–æ–¥–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π (income):**
- –õ—é–±–æ–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞
- –ü–∞—Ä—Å–∏–Ω–≥ –ù–ï –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
- –ü—Ä–æ—Å—Ç–æ –∑–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∫–∞–∫ —Å–µ–π—á–∞—Å

### 1.8. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

| –ö–æ–¥ | –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é |
|-----|------------------------|
| 429 | "–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç." |
| 400 | "–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–∞. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª –Ω–µ –ø–æ–≤—Ä–µ–∂–¥—ë–Ω." |
| 500 | "–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ." |
| Low confidence | "‚ö†Ô∏è –ù–∏–∑–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ." |

### 1.9. –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ PaymentCreateForm

**–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞:**

```tsx
const handleFileUpload = async (file: File) => {
  // –î–ª—è —Ä–∞—Å—Ö–æ–¥–æ–≤ ‚Äî –ø–∞—Ä—Å–∏–º PDF
  if (paymentType === 'expense') {
    if (!file.name.toLowerCase().endsWith('.pdf')) {
      showError('–î–ª—è —Ä–∞—Å—Ö–æ–¥–æ–≤ –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ PDF');
      return;
    }
    
    setIsParsing(true);
    try {
      const result = await parseInvoice(file);
      
      if (result.success) {
        // –ü—Ä–µ–¥–∑–∞–ø–æ–ª–Ω—è–µ–º —Ñ–æ—Ä–º—É
        prefillForm(result);
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º warnings
        if (result.warnings.length > 0) {
          showWarnings(result.warnings);
        }
      } else {
        showError(result.error || '–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞');
      }
    } catch (e) {
      handleApiError(e);
    } finally {
      setIsParsing(false);
    }
  }
  
  // –î–ª—è –¥–æ—Ö–æ–¥–æ–≤ ‚Äî –ø—Ä–æ—Å—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–∞–π–ª
  setScanFile(file);
};
```

### 1.10. –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–ª–∞—Ç–µ–∂–∞ —Å –ø–æ–∑–∏—Ü–∏—è–º–∏

**API —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞—Ç–µ–∂–∞:** `POST /api/v1/payments/`

**Request (–∏–∑–º–µ–Ω—ë–Ω–Ω—ã–π):**
```typescript
interface CreatePaymentPayload {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è ...
  scan_file: File;  // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
  
  // –ù–æ–≤–æ–µ –ø–æ–ª–µ –¥–ª—è –ø–æ–∑–∏—Ü–∏–π (—Ç–æ–ª—å–∫–æ –¥–ª—è expense)
  // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è items_input –¥–ª—è –∑–∞–ø–∏—Å–∏, items –¥–ª—è —á—Ç–µ–Ω–∏—è
  items_input?: Array<{
    raw_name: string;
    quantity: string;
    unit: string;
    price_per_unit: string;
    vat_amount?: string;
  }>;
}
```

**Response (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π):**
```typescript
interface Payment {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è ...
  
  // –ù–æ–≤—ã–µ –ø–æ–ª—è
  items: PaymentItem[];        // –ü–æ–∑–∏—Ü–∏–∏ –ø–ª–∞—Ç–µ–∂–∞
  items_count: number;         // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∑–∏—Ü–∏–π
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–ª–∞—Ç–µ–∂–∞ –±–µ–∫–µ–Ω–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ò—â–µ—Ç –ø–æ—Ö–æ–∂–∏–µ —Ç–æ–≤–∞—Ä—ã –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
2. –°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `new` –µ—Å–ª–∏ –ø–æ—Ö–æ–∂–∏—Ö –Ω–µ—Ç
3. –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é —Ü–µ–Ω
4. –°–≤—è–∑—ã–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏–∏ —Å –ø–ª–∞—Ç–µ–∂–æ–º

---

## –≠—Ç–∞–ø 2: –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤

### 2.1. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π `/catalog/categories`

**API:**
- `GET /api/v1/catalog/categories/` ‚Äî —Å–ø–∏—Å–æ–∫
- `GET /api/v1/catalog/categories/tree/` ‚Äî –¥–µ—Ä–µ–≤–æ
- `POST /api/v1/catalog/categories/` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ
- `PATCH /api/v1/catalog/categories/{id}/` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- `DELETE /api/v1/catalog/categories/{id}/` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:**

```typescript
interface Category {
  id: number;
  name: string;
  code: string;
  parent: number | null;
  parent_name: string | null;
  full_path: string;
  description: string;
  level: number;
  sort_order: number;
  is_active: boolean;
  children_count: number;
  created_at: string;
  updated_at: string;
}

interface CategoryTreeNode {
  id: number;
  name: string;
  code: string;
  level: number;
  children: CategoryTreeNode[];
}
```

**UI:**
- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å: –¥–µ—Ä–µ–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π (—Å–≤–æ—Ä–∞—á–∏–≤–∞–µ–º–æ–µ)
- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å: —Ñ–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- –ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é" (–∫–æ—Ä–Ω–µ–≤—É—é –∏–ª–∏ –¥–æ—á–µ—Ä–Ω—é—é)
- Drag & drop –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 2.2. –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–≤–∞—Ä–æ–≤ `/catalog/products`

**API:**
- `GET /api/v1/catalog/products/` ‚Äî —Å–ø–∏—Å–æ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- `GET /api/v1/catalog/products/{id}/` ‚Äî –¥–µ—Ç–∞–ª–∏
- `GET /api/v1/catalog/products/{id}/prices/` ‚Äî –∏—Å—Ç–æ—Ä–∏—è —Ü–µ–Ω
- `POST /api/v1/catalog/products/{id}/verify/` ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å
- `POST /api/v1/catalog/products/{id}/archive/` ‚Äî –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:**

```typescript
interface Product {
  id: number;
  name: string;
  normalized_name: string;
  category: number | null;
  category_name: string | null;
  category_path: string | null;
  default_unit: string;
  is_service: boolean;
  status: 'new' | 'verified' | 'merged' | 'archived';
  status_display: string;
  merged_into: number | null;
  aliases: ProductAlias[];
  aliases_count: number;
  created_at: string;
  updated_at: string;
}

interface ProductAlias {
  id: number;
  alias_name: string;
  source_payment: number | null;
  created_at: string;
}

interface ProductPriceHistory {
  id: number;
  counterparty: number;
  counterparty_name: string;
  price: string;
  unit: string;
  invoice_date: string;
  invoice_number: string;
  payment: number | null;
  created_at: string;
}
```

**UI:**
- –¢–∞–±–ª–∏—Ü–∞ —Ç–æ–≤–∞—Ä–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏:
  - –ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (Select —Å –¥–µ—Ä–µ–≤–æ–º)
  - –ü–æ —Å—Ç–∞—Ç—É—Å—É (new / verified / merged / archived)
  - –ü–æ —Ç–∏–ø—É (—Ç–æ–≤–∞—Ä / —É—Å–ª—É–≥–∞)
  - –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
- –ö–æ–ª–æ–Ω–∫–∏: –ù–∞–∑–≤–∞–Ω–∏–µ, –ö–∞—Ç–µ–≥–æ—Ä–∏—è, –ï–¥.–∏–∑–º., –°—Ç–∞—Ç—É—Å, –°–∏–Ω–æ–Ω–∏–º–æ–≤, –î–µ–π—Å—Ç–≤–∏—è
- –ö–ª–∏–∫ –ø–æ —Å—Ç—Ä–æ–∫–µ ‚Üí –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

### 2.3. –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–≤–∞—Ä–∞ `/catalog/products/{id}`

**UI:**
- –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –µ–¥.–∏–∑–º., —Å—Ç–∞—Ç—É—Å)
- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π:
  - "–ò–∑–º–µ–Ω–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é"
  - "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å" (–¥–ª—è —Å—Ç–∞—Ç—É—Å–∞ new)
  - "–ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å"
- –¢–∞–± "–°–∏–Ω–æ–Ω–∏–º—ã" ‚Äî —Å–ø–∏—Å–æ–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π
- –¢–∞–± "–ò—Å—Ç–æ—Ä–∏—è —Ü–µ–Ω" ‚Äî —Ç–∞–±–ª–∏—Ü–∞ —Å —Ü–µ–Ω–∞–º–∏ –æ—Ç —Ä–∞–∑–Ω—ã—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤

---

## –≠—Ç–∞–ø 2.5: –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏

### 2.5.1. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –≤—Ä—É—á–Ω—É—é

**API:**
- `POST /api/v1/catalog/products/` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–ø—Ä–æ—Å–∞:**
```typescript
interface CreateProductPayload {
  name: string;                    // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
  category: number | null;         // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
  default_unit: string;            // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é '—à—Ç'
  is_service: boolean;             // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é false
}
```

**UI:**
- –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–ø–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ `/catalog/products` –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä"
- –ü—Ä–∏ –∫–ª–∏–∫–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è Dialog (Modal) —Å —Ñ–æ—Ä–º–æ–π:
  - **–ù–∞–∑–≤–∞–Ω–∏–µ** (Text input) ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –º–∞–∫—Å. 500 —Å–∏–º–≤–æ–ª–æ–≤
  - **–ö–∞—Ç–µ–≥–æ—Ä–∏—è** (Select —Å –ø–æ–∏—Å–∫–æ–º) ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –∏–∑ –¥–µ—Ä–µ–≤–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º
  - **–ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è** (Select) ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é '—à—Ç'
    - –í–∞—Ä–∏–∞–Ω—Ç—ã: '—à—Ç', '–º', '–º¬≤', '–º¬≥', '–∫–≥', '—Ç', '–ª', '–∫–æ–º–ø–ª', '—á', '—É—Å–ª', '–µ–¥'
  - **–¢–∏–ø** (Radio –∏–ª–∏ Toggle):
    - "–¢–æ–≤–∞—Ä" (is_service: false) ‚Äî –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    - "–£—Å–ª—É–≥–∞" (is_service: true)
  - –ö–Ω–æ–ø–∫–∏: "–û—Ç–º–µ–Ω–∞", "–°–æ–∑–¥–∞—Ç—å"
- –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è:
  - –ü–æ–∫–∞–∑–∞—Ç—å Toast: "–¢–æ–≤–∞—Ä —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω"
  - –ó–∞–∫—Ä—ã—Ç—å Dialog
  - –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ (React Query invalidation)
  - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞

### 2.5.2. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞

**API:**
- `PATCH /api/v1/catalog/products/{id}/` ‚Äî —á–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- `PUT /api/v1/catalog/products/{id}/` ‚Äî –ø–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PATCH)

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–ø—Ä–æ—Å–∞:**
```typescript
interface UpdateProductPayload {
  name?: string;
  category?: number | null;        // –ú–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å null –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  default_unit?: string;
  is_service?: boolean;
}
```

**UI ‚Äî –í–∞—Ä–∏–∞–Ω—Ç 1: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ**
- –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/catalog/products/{id}` –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å"
- –ü—Ä–∏ –∫–ª–∏–∫–µ —Ñ–æ—Ä–º–∞ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Ä–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (inline –∏–ª–∏ Dialog):
  - –í—Å–µ –ø–æ–ª—è —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–º–∏
  - –ö–Ω–æ–ø–∫–∏: "–û—Ç–º–µ–Ω–∞", "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
- –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:
  - –ü–æ–∫–∞–∑–∞—Ç—å Toast: "–¢–æ–≤–∞—Ä —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª—ë–Ω"
  - –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

**UI ‚Äî –í–∞—Ä–∏–∞–Ω—Ç 2: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã (–±—ã—Å—Ç—Ä–æ–µ)**
- –í —Ç–∞–±–ª–∏—Ü–µ —Ç–æ–≤–∞—Ä–æ–≤ `/catalog/products` –≤ –∫–æ–ª–æ–Ω–∫–µ "–î–µ–π—Å—Ç–≤–∏—è" –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "‚úèÔ∏è" (–∏–∫–æ–Ω–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- –ü—Ä–∏ –∫–ª–∏–∫–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è Dialog —Å –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–π —Ñ–æ—Ä–º–æ–π:
  - –í—Å–µ –ø–æ–ª—è –∫–∞–∫ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
  - –ü–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É –≤ —Ç–∞–±–ª–∏—Ü–µ

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞:
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã ‚Äî –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π (–∫–∞—Ç–µ–≥–æ—Ä–∏—è, –µ–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è)
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Äî –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–≤–∫–ª—é—á–∞—è –Ω–∞–∑–≤–∞–Ω–∏–µ)

### 2.5.3. –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞

**API:**
- `DELETE /api/v1/catalog/products/{id}/` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞

**UI:**
- –í —Ç–∞–±–ª–∏—Ü–µ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–æ–ª–æ–Ω–∫–µ "–î–µ–π—Å—Ç–≤–∏—è" –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "üóëÔ∏è" (–∏–∫–æ–Ω–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã)
- –ù–∞ –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ç–æ–≤–∞—Ä–∞ –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "üóëÔ∏è –£–¥–∞–ª–∏—Ç—å" (–≤ —Å–µ–∫—Ü–∏–∏ –¥–µ–π—Å—Ç–≤–∏–π, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º)
- –ü—Ä–∏ –∫–ª–∏–∫–µ:
  - –ü–æ–∫–∞–∑–∞—Ç—å Dialog –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è:
    - –ó–∞–≥–æ–ª–æ–≤–æ–∫: "–£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä?"
    - –¢–µ–∫—Å—Ç: "–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä ¬´{–Ω–∞–∑–≤–∞–Ω–∏–µ}¬ª? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å."
    - –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: "–ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞ –±—É–¥—É—Ç —Ç–∞–∫–∂–µ —É–¥–∞–ª–µ–Ω—ã –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∞–ª–∏–∞—Å—ã (—Å–∏–Ω–æ–Ω–∏–º—ã)."
    - –ö–Ω–æ–ø–∫–∏: "–û—Ç–º–µ–Ω–∞", "–£–¥–∞–ª–∏—Ç—å" (–∫—Ä–∞—Å–Ω–∞—è –∫–Ω–æ–ø–∫–∞)
  - –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è:
    - –í—ã–ø–æ–ª–Ω–∏—Ç—å DELETE –∑–∞–ø—Ä–æ—Å
    - –ü–æ–∫–∞–∑–∞—Ç—å Toast: "–¢–æ–≤–∞—Ä —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª—ë–Ω"
    - –ï—Å–ª–∏ –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Äî –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤
    - –ï—Å–ª–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ ‚Äî —É–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–æ–∫—É –∏–∑ —Ç–∞–±–ª–∏—Ü—ã (React Query invalidation)

**–í–∞–∂–Ω–æ:** 
- –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –≤—ã–∑—ã–≤–∞–µ—Ç –∫–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–≤—è–∑–∞–Ω–Ω—ã—Ö `ProductAlias`
- –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –ù–ï —É–¥–∞–ª—è–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ `ProductPriceHistory` –∏ `PaymentItem` (–æ–Ω–∏ –æ—Å—Ç–∞—é—Ç—Å—è —Å `product=null`)

### 2.5.4. –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ:**
- –ù–∞–∑–≤–∞–Ω–∏–µ: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –Ω–µ –ø—É—Å—Ç–æ–µ, –º–∞–∫—Å. 500 —Å–∏–º–≤–æ–ª–æ–≤
- –ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –∏–∑ —Å–ø–∏—Å–∫–∞ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- –ö–∞—Ç–µ–≥–æ—Ä–∏—è: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–∞ ‚Äî –¥–æ–ª–∂–Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º–µ

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API:**
- 400 Bad Request ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –ø–æ–ª—è–º–∏
- 404 Not Found ‚Äî "–¢–æ–≤–∞—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω" (–ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏/—É–¥–∞–ª–µ–Ω–∏–∏)
- 500 Server Error ‚Äî "–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ."

### 2.5.5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤

**–ü–æ—Å–ª–µ –æ–ø–µ—Ä–∞—Ü–∏–π —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å React Query `invalidateQueries` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –ø–æ–∫–∞–∑–∞—Ç—å –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–¥–ª—è –ª—É—á—à–µ–≥–æ UX)

**–ü—Ä–∏–º–µ—Ä:**
```tsx
const queryClient = useQueryClient();

// –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è
await queryClient.invalidateQueries(['products']);
// –∏–ª–∏ –±–æ–ª–µ–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ:
await queryClient.invalidateQueries(['products', { status: 'new' }]);
```

---

## –≠—Ç–∞–ø 3: –ú–æ–¥–µ—Ä–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤

### 3.1. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ `/catalog/moderation`

**API:**
- `GET /api/v1/catalog/products/?status=new` ‚Äî –Ω–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã
- `GET /api/v1/catalog/products/duplicates/` ‚Äî –ø–æ–∏—Å–∫ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- `POST /api/v1/catalog/products/merge/` ‚Äî –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ

**UI ‚Äî –î–≤–µ –≤–∫–ª–∞–¥–∫–∏:**

#### –í–∫–ª–∞–¥–∫–∞ "–ù–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã"

- –¢–∞–±–ª–∏—Ü–∞ —Ç–æ–≤–∞—Ä–æ–≤ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `new`
- –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞:
  - –ù–∞–∑–≤–∞–Ω–∏–µ
  - –°–æ–∑–¥–∞–Ω –∏–∑ –ø–ª–∞—Ç–µ–∂–∞ (—Å—Å—ã–ª–∫–∞)
  - –ö–Ω–æ–ø–∫–∏: "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å", "–ù–∞–π—Ç–∏ –ø–æ—Ö–æ–∂–∏–µ", "–ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å"

#### –í–∫–ª–∞–¥–∫–∞ "–î—É–±–ª–∏–∫–∞—Ç—ã"

- –ö–Ω–æ–ø–∫–∞ "–ù–∞–π—Ç–∏ –¥—É–±–ª–∏–∫–∞—Ç—ã" ‚Üí –∑–∞–ø—Ä–æ—Å –∫ API
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã: –≥—Ä—É–ø–ø—ã –ø–æ—Ö–æ–∂–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤
- –î–ª—è –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã:
  - –û—Å–Ω–æ–≤–Ω–æ–π —Ç–æ–≤–∞—Ä
  - –ü–æ—Ö–æ–∂–∏–µ —Ç–æ–≤–∞—Ä—ã —Å % —Å—Ö–æ–∂–µ—Å—Ç–∏
  - –ö–Ω–æ–ø–∫–∞ "–û–±—ä–µ–¥–∏–Ω–∏—Ç—å" ‚Üí –≤—ã–±—Ä–∞—Ç—å —Ü–µ–ª–µ–≤–æ–π —Ç–æ–≤–∞—Ä

### 3.2. –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è

**–§–∞–π–ª:** `components/catalog/MergeProductsModal.tsx`

```tsx
interface MergeProductsModalProps {
  isOpen: boolean;
  onClose: () => void;
  products: Product[];  // –¢–æ–≤–∞—Ä—ã –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è
  onMerge: (targetId: number, sourceIds: number[]) => Promise<void>;
}
```

**UI:**
- –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è
- Radio button –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ü–µ–ª–µ–≤–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
- –ö–Ω–æ–ø–∫–∞ "–û–±—ä–µ–¥–∏–Ω–∏—Ç—å"
- –ü–æ—Å–ª–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è:
  - –ò—Å—Ö–æ–¥–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã –ø–æ–ª—É—á–∞—é—Ç —Å—Ç–∞—Ç—É—Å `merged`
  - –ò—Ö –Ω–∞–∑–≤–∞–Ω–∏—è —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –∞–ª–∏–∞—Å–∞–º–∏ —Ü–µ–ª–µ–≤–æ–≥–æ

---

## –≠—Ç–∞–ø 4: –ò—Å—Ç–æ—Ä–∏—è —Ü–µ–Ω

### 4.1. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∏—Å—Ç–æ—Ä–∏–∏ —Ü–µ–Ω

**–§–∞–π–ª:** `components/catalog/PriceHistoryTable.tsx`

**UI:**
- –¢–∞–±–ª–∏—Ü–∞: –î–∞—Ç–∞, –ü–æ—Å—Ç–∞–≤—â–∏–∫, –¶–µ–Ω–∞, –ï–¥.–∏–∑–º., –°—á—ë—Ç, –ü–ª–∞—Ç—ë–∂
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å–≤–µ—Ä—Ö—É)
- –°—Å—ã–ª–∫–∞ –Ω–∞ –ø–ª–∞—Ç—ë–∂
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –≥—Ä–∞—Ñ–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω—ã

### 4.2. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ü–µ–Ω –æ—Ç —Ä–∞–∑–Ω—ã—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤

**UI (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è/–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è/—Å—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞
- –õ—É—á—à–µ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ

---

## –≠—Ç–∞–ø 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ LLM

### 5.1. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ `/settings/llm`

**API:**
- `GET /api/v1/llm-providers/` ‚Äî —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- `POST /api/v1/llm-providers/{id}/set_default/` ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:**

```typescript
interface LLMProvider {
  id: number;
  provider_type: 'openai' | 'gemini' | 'grok';
  provider_type_display: string;
  model_name: string;
  env_key_name: string;
  is_active: boolean;
  is_default: boolean;
  created_at: string;
  updated_at: string;
}
```

**UI:**
- –°–ø–∏—Å–æ–∫ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (–∫–∞—Ä—Ç–æ—á–∫–∏)
- –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞:
  - –ù–∞–∑–≤–∞–Ω–∏–µ –∏ –º–æ–¥–µ–ª—å
  - –°—Ç–∞—Ç—É—Å (–∞–∫—Ç–∏–≤–µ–Ω/–Ω–µ–∞–∫—Ç–∏–≤–µ–Ω)
  - Badge "–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é"
  - –ö–Ω–æ–ø–∫–∞ "–°–¥–µ–ª–∞—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é"
- –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: "API-–∫–ª—é—á–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ ENV –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞"

---

## 6. –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

### 6.1. –û–±—â–∏–π —Ñ–∞–π–ª —Ç–∏–ø–æ–≤

**–§–∞–π–ª:** `types/catalog.ts`

```typescript
// –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
export interface Category {
  id: number;
  name: string;
  code: string;
  parent: number | null;
  parent_name: string | null;
  full_path: string;
  description: string;
  level: number;
  sort_order: number;
  is_active: boolean;
  children_count: number;
  created_at: string;
  updated_at: string;
}

export interface CategoryTreeNode {
  id: number;
  name: string;
  code: string;
  level: number;
  children: CategoryTreeNode[];
}

// –¢–æ–≤–∞—Ä—ã
export type ProductStatus = 'new' | 'verified' | 'merged' | 'archived';

export interface Product {
  id: number;
  name: string;
  normalized_name: string;
  category: number | null;
  category_name: string | null;
  category_path: string | null;
  default_unit: string;
  is_service: boolean;
  status: ProductStatus;
  status_display: string;
  merged_into: number | null;
  aliases: ProductAlias[];
  aliases_count: number;
  created_at: string;
  updated_at: string;
}

export interface ProductAlias {
  id: number;
  alias_name: string;
  source_payment: number | null;
  created_at: string;
}

// –ü–æ–∑–∏—Ü–∏–∏ –ø–ª–∞—Ç–µ–∂–∞ (–∏–∑ –ë–î)
export interface PaymentItem {
  id: number;
  raw_name: string;
  product: number | null;
  product_name: string | null;
  product_category: string | null;
  quantity: string;
  unit: string;
  price_per_unit: string;
  amount: string;
  vat_amount: string | null;
  created_at: string;
}

export interface ProductPriceHistory {
  id: number;
  counterparty: number;
  counterparty_name: string;
  price: string;
  unit: string;
  invoice_date: string;
  invoice_number: string;
  payment: number | null;
  created_at: string;
}

export interface ProductDuplicate {
  product: {
    id: number;
    name: string;
  };
  similar: Array<{
    id: number;
    name: string;
    score: number;
  }>;
}

// –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ
export interface MergeProductsPayload {
  source_ids: number[];
  target_id: number;
}
```

**–§–∞–π–ª:** `types/llm.ts`

```typescript
export type LLMProviderType = 'openai' | 'gemini' | 'grok';

export interface LLMProvider {
  id: number;
  provider_type: LLMProviderType;
  provider_type_display: string;
  model_name: string;
  env_key_name: string;
  is_active: boolean;
  is_default: boolean;
  created_at: string;
  updated_at: string;
}

export interface ParsedVendor {
  name: string;
  inn: string;
  kpp: string | null;
}

export interface ParsedBuyer {
  name: string;
  inn: string;
}

export interface ParsedInvoiceInfo {
  number: string;
  date: string;
}

export interface ParsedTotals {
  amount_gross: string;
  vat_amount: string;
}

export interface ParsedItem {
  name: string;
  quantity: string;
  unit: string;
  price_per_unit: string;
}

export interface ParsedInvoiceData {
  vendor: ParsedVendor;
  buyer: ParsedBuyer;
  invoice: ParsedInvoiceInfo;
  totals: ParsedTotals;
  items: ParsedItem[];
  confidence: number;
}

export interface VendorMatchSuggestion {
  id: number;
  name: string;
  short_name: string | null;
  inn: string;
  score: number;
}

export interface VendorMatch {
  match_type: 'exact' | 'similar' | 'not_found';
  counterparty_id: number | null;
  suggestions: VendorMatchSuggestion[];
}

export interface BuyerMatch {
  match_type: 'exact' | 'not_found';
  legal_entity_id: number | null;
  error: string | null;
}

export interface ProductMatchSimilar {
  product_id: number;
  product_name: string;
  score: number;
}

export interface ProductMatch {
  raw_name: string;
  similar_products: ProductMatchSimilar[];
}

export interface ParseInvoiceResponse {
  success: boolean;
  from_cache: boolean;
  document_id: number | null;
  data: ParsedInvoiceData | null;
  matches: {
    vendor: VendorMatch;
    buyer: BuyerMatch;
    products: ProductMatch[];
  } | null;
  warnings: string[];
  error: string | null;
}
```

---

## 7. –ß–µ–∫-–ª–∏—Å—Ç

### –≠—Ç–∞–ø 1: –§–æ—Ä–º–∞ –ø–ª–∞—Ç–µ–∂–∞
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç InvoiceUploader
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç CounterpartySelector —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç InvoiceItemsTable
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤ PaymentCreateForm
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è PDF –¥–ª—è expense
- [ ] –ü—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (rate limit, parse error)
- [ ] –ü–æ–∫–∞–∑ warnings

### –≠—Ç–∞–ø 2: –ö–∞—Ç–∞–ª–æ–≥
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å –¥–µ—Ä–µ–≤–æ–º
- [ ] CRUD –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–ø–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤
- [ ] –§–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤
- [ ] –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–≤–∞—Ä–∞
- [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–∏–Ω–æ–Ω–∏–º–æ–≤

### –≠—Ç–∞–ø 2.5: –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏
- [ ] –ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä" –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–ø–∏—Å–∫–∞
- [ ] Dialog —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- [ ] –ö–Ω–æ–ø–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Ç–∞–±–ª–∏—Ü–µ —Ç–æ–≤–∞—Ä–æ–≤
- [ ] –ö–Ω–æ–ø–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- [ ] Dialog —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞
- [ ] –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –≤ —Ç–∞–±–ª–∏—Ü–µ —Ç–æ–≤–∞—Ä–æ–≤
- [ ] Dialog –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —É–¥–∞–ª–µ–Ω–∏—è
- [ ] –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API
- [ ] Toast-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ—Å–ª–µ –æ–ø–µ—Ä–∞—Ü–∏–π (React Query)

### –≠—Ç–∞–ø 3: –ú–æ–¥–µ—Ä–∞—Ü–∏—è
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
- [ ] –í–∫–ª–∞–¥–∫–∞ "–ù–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã"
- [ ] –í–∫–ª–∞–¥–∫–∞ "–î—É–±–ª–∏–∫–∞—Ç—ã"
- [ ] –ü–æ–∏—Å–∫ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- [ ] –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è
- [ ] –î–µ–π—Å—Ç–≤–∏—è: –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å, –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å

### –≠—Ç–∞–ø 4: –ò—Å—Ç–æ—Ä–∏—è —Ü–µ–Ω
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∏—Å—Ç–æ—Ä–∏–∏ —Ü–µ–Ω
- [ ] –¢–∞–±–ª–∏—Ü–∞ —Ü–µ–Ω –≤ –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ç–æ–≤–∞—Ä–∞

### –≠—Ç–∞–ø 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ LLM
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### –ù–∞–≤–∏–≥–∞—Ü–∏—è
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–¥–µ–ª "–ö–∞—Ç–∞–ª–æ–≥" –≤ Sidebar
  - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
  - –¢–æ–≤–∞—Ä—ã/–£—Å–ª—É–≥–∏
  - –ú–æ–¥–µ—Ä–∞—Ü–∏—è
- [ ] –î–æ–±–∞–≤–∏—Ç—å "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ LLM" –≤ —Ä–∞–∑–¥–µ–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫

---

## –ù–∞–≤–∏–≥–∞—Ü–∏—è (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ Sidebar)

```
üìä Dashboard
üì¶ –û–±—ä–µ–∫—Ç—ã
üìÑ –î–æ–≥–æ–≤–æ—Ä—ã
üí∏ –ü–ª–∞—Ç–µ–∂–∏
  ‚îî‚îÄ‚îÄ –í—Å–µ –ø–ª–∞—Ç–µ–∂–∏
  ‚îî‚îÄ‚îÄ –†–µ–µ—Å—Ç—Ä —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–π
üìö –ö–∞—Ç–∞–ª–æ–≥                    # –ù–û–í–´–ô –†–ê–ó–î–ï–õ
  ‚îî‚îÄ‚îÄ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
  ‚îî‚îÄ‚îÄ –¢–æ–≤–∞—Ä—ã/–£—Å–ª—É–≥–∏
  ‚îî‚îÄ‚îÄ –ú–æ–¥–µ—Ä–∞—Ü–∏—è
üìà –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏
  ‚îî‚îÄ‚îÄ –Æ—Ä–ª–∏—Ü–∞
  ‚îî‚îÄ‚îÄ –°—á–µ—Ç–∞
  ‚îî‚îÄ‚îÄ –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã
  ‚îî‚îÄ‚îÄ LLM-–ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã          # –ù–û–í–´–ô –ü–£–ù–ö–¢
```

---

*–î–æ–∫—É–º–µ–Ω—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.*

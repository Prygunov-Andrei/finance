# День 1. Аналитика и постановка задач

## 1. Бизнес-требования и роли пользователей
- **Руководитель строительного направления**
  - Видит сводку по всем объектам, динамику cash-flow, статус договоров.
  - Получает уведомления о рисках (кассовые разрывы, просрочки платежей).
- **Финансовый директор / главный бухгалтер**
  - Контролирует движение средств по договорам.
  - Формирует финансовые отчёты, проверяет корректность платежей и задолженностей.
- **Проектный менеджер объекта**
  - Следит за затратами и поступлениями в разрезе конкретного объекта.
  - Вносит комментарии к платежам, инициирует плановые платежи.
- **Финансовый аналитик**
  - Загружает обновлённые таблицы, сверяет расчёты, формирует прогнозы cash-flow.

### Ключевые требования
1. Система хранит объекты, связанные договоры и платежи.
2. Пользователи могут импортировать актуальные табличные данные без ручного ввода.
3. Cash-flow рассчитывается автоматически в разрезе объектов, договоров и периодов.
4. Доступны отчёты: сводка по объектам, детализация по договорам, реестр плановых платежей, задолженность.
5. Вся информация по платежам должна ссылаться на исходные документы (сканы, PDF).
6. История импортов и изменения данных фиксируются для аудита.

## 2. Структура источников данных и ответственные
- **Табличные файлы (Excel/CSV)**
  - Форматы: еженедельные выгрузки из бухгалтерской системы.
  - Ответственный за подготовку: Финансовый аналитик.
  - Содержат вкладки: фактические платежи, поступления, плановые платежи, задолженность.
- **Каталог документов**
  - Структурирован по объектам и договорам.
  - Содержит первичные документы: счета, акты, договоры.
  - Ответственный за поддержание структуры: Проектный менеджер объекта.
- **Справочники**
  - Список объектов и договоров с реквизитами.
  - Обновляет Финансовый директор совместно с бухгалтерией.

## 3. Roadmap по сущностям
- **Object (Объект)**
  - Поля: название, адрес, описание, статус.
  - Связи: множество договоров, агрегированные показатели cash-flow.
- **Contract (Договор)**
  - Поля: номер, дата, контрагент, сумма, статус, вид работ.
  - Связи: принадлежит объекту, имеет платежи и плановые операции.
- **Payment (Платёж)**
  - Поля: тип (расход/поступление), сумма, дата, счёт, описание, ссылка на документ.
  - Связи: относится к договору, влияет на cash-flow.
- **PaymentRegistry (Реестр платежей)**
  - Поля: сумма, плановая дата, статус, инициатор, комментарий.
  - Связи: привязка к договору и объекту.
- **ImportLog (Журнал импортов)**
  - Поля: источник, дата импорта, пользователь, кол-во записей, ошибки.
  - Связи: логирует изменения в платежах и реестрах.

## 4. Чек-лист проверок для следующего этапа
- [x] Подтвердить роли пользователей и их потребности.
- [x] Уточнить ответственных за актуальность данных и структуру хранения.
- [x] Определить ключевые сущности и связи между ними.
- [ ] Согласовать форматы файлов для импорта и минимальные требования к структуре.
- [ ] Подготовить шаблон тестовых данных для последующих этапов.

## Итог первых двух дней
- Зафиксированы роли пользователей и бизнес-требования.
- Определена структура источников данных и ответственные лица.
- Сформирован roadmap по сущностям (Объект, Договор, Платёж, Реестр, ImportLog).
- Утверждены форматы табличных файлов и требования к импортам.
- Подготовлены шаблоны тестовых данных и регламент обновления.
- Готовы к переходу к моделированию данных (День 3 по плану).
